{"version":3,"file":"lesson-12-main-D2izVF_Y.js","sources":["../../src/js/lessons-12/pixabay-api.js","../../src/js/lessons-12/refs-les12.js","../../src/js/lessons-12/render-function.js","../../src/js/lesson-12-main.js"],"sourcesContent":["import axios from \"axios\";\n\n\n\n\n\n\n\n\n\nexport function getPhotos(query) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const API_KEY = '45713433-433c1b648e48abad27090f3cc';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,  \n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: false,\n    per_page: '20'\n  });\n\n  return fetch(`${BASE_URL}${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits)\n    .catch(error => {\n      console.log('Помилка при завантаженні фото:', error);\n    });\n}\n","export const  refsLes12 = {\n  searchForm: document.querySelector('.search-form'),\n  startSearchBtn: document.querySelector('.js-start-search'),\n  galleryEl: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader')\n}","export function createMarkupGallery(data) {\n  const markupGallery = data.map(item => {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = item;\n    return `\n            <li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                  class=\"gallery-image\"\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  loading=\"lazy\"\n              /></a>\n              <ul class=\"img-content-wrapper\">\n                <li class=\"img-content-descr\">Likes<span>${likes}</span></li>\n                <li class=\"img-content-descr\">Views<span>${views}</span></li>\n                <li class=\"img-content-descr\">Comments<span>${comments}</span></li>\n                <li class=\"img-content-descr\">Downloads<span>${downloads}</span></li>\n              </ul>\n            </li>\n      `;\n  }).join(''); \n\n  return markupGallery;\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getPhotos } from \"./lessons-12/pixabay-api\";\nimport { refsLes12 } from \"./lessons-12/refs-les12\";\nimport { createMarkupGallery } from \"./lessons-12/render-function\";\n\nrefsLes12.searchForm.addEventListener('submit', sumbitFormSearch)\n\nfunction sumbitFormSearch(event) {\n  event.preventDefault();\n  \n  refsLes12.galleryEl.innerHTML = '';\n  const query = event.target.search.value;\n\n  refsLes12.loader.classList.remove('visually-hidden');\n\n  getPhotos(query)\n    .then(photos => {\n      if (photos.length === 0) {\n        iziToast.show({\n          title: '❌', \n          message: `Sorry, there are no images matching your search \"${query}\". Please try again!`,\n          color: 'red',\n          backgroundColor: '#ffcccc',\n          position: 'topRight',\n          timeout: 5000,\n          close: true,\n          pauseOnHover: true,\n          progressBar: true,\n        });\n        return;\n      }\n\n      const markup = createMarkupGallery(photos);\n      refsLes12.galleryEl.insertAdjacentHTML('afterbegin', markup);\n\n      const gallery = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      gallery.on('show.simplelightbox', function () {\n        gallery.refresh();\n      });\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Помилка',\n        message: 'Щось пішло не так, спробуйте ще раз пізніше.',\n        color: 'red',\n        position: 'topRight',\n        timeout: 5000,\n      });\n    })\n    .finally(() => {\n      refsLes12.loader.classList.add('visually-hidden');\n    });\n}\n"],"names":["getPhotos","query","BASE_URL","API_KEY","searchParams","response","data","error","refsLes12","createMarkupGallery","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","sumbitFormSearch","event","photos","iziToast","markup","gallery","SimpleLightbox"],"mappings":"gDAUO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,4BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,IACd,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,GAAGE,CAAY,EAAE,EACtC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,QAAQ,IAAI,iCAAkCA,CAAK,CACzD,CAAK,CACL,CClCO,MAAOC,EAAY,CACxB,WAAY,SAAS,cAAc,cAAc,EACjD,eAAgB,SAAS,cAAc,kBAAkB,EACzD,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECLO,SAASC,EAAoBH,EAAM,CAsBxC,OArBsBA,EAAK,IAAII,GAAQ,CACrC,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,8CAEmCE,CAAa;AAAA;AAAA;AAAA,yBAGlCD,CAAY;AAAA,yBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,2DAI8BC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA;AAAA;AAAA,OAIxE,CAAG,EAAE,KAAK,EAAE,CAGZ,CCdAT,EAAU,WAAW,iBAAiB,SAAUU,CAAgB,EAEhE,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpBX,EAAU,UAAU,UAAY,GAChC,MAAMP,EAAQkB,EAAM,OAAO,OAAO,MAElCX,EAAU,OAAO,UAAU,OAAO,iBAAiB,EAEnDR,EAAUC,CAAK,EACZ,KAAKmB,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBC,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,oDAAoDpB,CAAK,uBAClE,MAAO,MACP,gBAAiB,UACjB,SAAU,WACV,QAAS,IACT,MAAO,GACP,aAAc,GACd,YAAa,EACvB,CAAS,EACD,MACD,CAED,MAAMqB,EAASb,EAAoBW,CAAM,EACzCZ,EAAU,UAAU,mBAAmB,aAAcc,CAAM,EAE3D,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GACtB,CAAO,EACDD,EAAQ,GAAG,sBAAuB,UAAY,CAC5CA,EAAQ,QAAO,CACvB,CAAO,CACP,CAAK,EACA,MAAMhB,GAAS,CACdc,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,+CACT,MAAO,MACP,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbb,EAAU,OAAO,UAAU,IAAI,iBAAiB,CACtD,CAAK,CACL"}